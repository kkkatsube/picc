# PICC Backend (Laravel API)

PHP 8.3 + Laravel 11 ã«ã‚ˆã‚‹ RESTful API ã‚µãƒ¼ãƒãƒ¼

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **PHP**: 8.3
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Laravel 11
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL 15
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Redis
- **èªè¨¼**: Laravel Sanctum
- **ãƒ†ã‚¹ãƒˆ**: Pest v4 + PHPUnit
- **é™çš„è§£æ**: PHPStan Level 8 + Larastan
- **ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: Laravel Pint

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### Dockerç’°å¢ƒï¼ˆæ¨å¥¨ï¼‰
```bash
# ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰çµ±åˆç’°å¢ƒèµ·å‹•
cd .. && docker-compose up -d

# ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
docker exec picc-backend-1 php artisan migrate
docker exec picc-backend-1 composer install
```

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰
```bash
# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
./vendor/bin/pest
./vendor/bin/phpunit

# é™çš„è§£æ
./vendor/bin/phpstan analyse

# ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
./vendor/bin/pint

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
php artisan migrate

# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
curl http://localhost:8000/api/health
```

## ğŸ”§ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- **GET** `/api/health` - ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª
  - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šç¢ºèª
  - Redisæ¥ç¶šç¢ºèª
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®š

### èªè¨¼ï¼ˆäºˆå®šï¼‰
- **POST** `/api/auth/register` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
- **POST** `/api/auth/login` - ãƒ­ã‚°ã‚¤ãƒ³
- **POST** `/api/auth/logout` - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

## ğŸ“Š ãƒ†ã‚¹ãƒˆãƒ»å“è³ªç®¡ç†

### ãƒ†ã‚¹ãƒˆæ§‹æˆ
- **Unit Tests**: `tests/Unit/` - ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹
- **Feature Tests**: `tests/Feature/` - HTTP API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: GitHub Actions CI ã§è‡ªå‹•æ¸¬å®š

### ã‚³ãƒ¼ãƒ‰å“è³ª
- **PHPStan Level 8**: æœ€é«˜ãƒ¬ãƒ™ãƒ«ã®é™çš„è§£æ
- **Laravel Pint**: PSR-12æº–æ‹ ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- **GitHub Actions**: PRæ™‚ã®è‡ªå‹•å“è³ªãƒã‚§ãƒƒã‚¯

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ç¾åœ¨ã®è¨­å®š
- **APP_KEY**: é–‹ç™ºç’°å¢ƒç”¨ï¼ˆæœ¬ç•ªã§ã¯è¦å¤‰æ›´ï¼‰
- **DBèªè¨¼**: é–‹ç™ºç’°å¢ƒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
- **Redis**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—è¨­å®š

### å®Ÿè£…äºˆå®š
- [ ] Laravel Sanctumèªè¨¼ã‚·ã‚¹ãƒ†ãƒ 
- [ ] æœ¬ç•ªç’°å¢ƒç”¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç®¡ç†
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ˜ãƒƒãƒ€ãƒ¼è¨­å®š
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¨­å®š

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Http/Controllers/     # API ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ Services/            # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ Models/              # Eloquent ãƒ¢ãƒ‡ãƒ«
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ Unit/               # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ Feature/            # æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ config/                 # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ database/
    â”œâ”€â”€ migrations/         # DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
    â””â”€â”€ seeders/           # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
```

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ README](../README.md)
- [APIä»•æ§˜æ›¸](../docs/api/openapi.yml)
- [ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ](../docs/architecture.md)
